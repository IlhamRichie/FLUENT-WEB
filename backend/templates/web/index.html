{% extends "base.html" %}

{% block title %}Home{% endblock %}

{% block content_hero %}
<section class="hero-section text-white py-5">
    <div class="container">
        <div class="row align-items-center py-lg-5">
            <div class="col-lg-6">
                <h1 class="display-4 fw-bold mb-3">
                    <span class="lang-id">Kuasai Wawancaramu dengan <span class="text-primary">FLUENT</span></span>
                    <span class="lang-en">Master Your Interview with <span class="text-primary">FLUENT</span></span>
                </h1>
                <p class="lead mb-4">
                    <span class="lang-id d-block">Analisis wawancara berbasis AI untuk membantumu tampil maksimal. Dapatkan feedback real-time tentang bahasa tubuh, pola bicara, dan kondisi emosionalmu.</span>
                    <span class="lang-en d-block">AI-powered interview analysis to help you perform at your best. Get real-time feedback on your body language, speech patterns, and emotional state.</span>
                </p>
                <div class="cta-buttons">
                    {% if not session.is_web_user and not session.is_admin %}
                    <a href="{{ url_for('web.web_register_page_route') }}" class="btn btn-primary btn-lg px-4 me-md-2 mb-2 mb-md-0">
                        <span class="lang-id">Mulai Sekarang</span><span class="lang-en">Get Started</span>
                    </a>
                    {% else %}
                    <a href="{{ url_for('web.web_profile_route') }}" class="btn btn-primary btn-lg px-4 me-md-2 mb-2 mb-md-0">
                        <span class="lang-id">Buka Profil</span><span class="lang-en">Go to Profile</span>
                    </a>
                    {% endif %}
                    <a href="{{ url_for('web.features_route') }}" class="btn btn-outline-light btn-lg px-4">
                        <span class="lang-id">Pelajari Lebih Lanjut</span><span class="lang-en">Learn More</span>
                    </a>
                </div>
            </div>
            <div class="col-lg-6 text-center text-lg-end mt-5 mt-lg-0">
                <img src="{{ url_for('web.web_serve_static', filename='images/io.png') }}" alt="Interview Analysis" class="img-fluid hero-image-custom rounded" style="max-width: 450px" />
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block content %}
<section class="stats-section py-5 bg-light">
    <div class="container">
        <div class="row text-center gy-4">
            <div class="col-md-3 col-6">
                <h2 class="display-5 fw-bold text-primary mb-1 count-up" data-target="10000" data-suffix="K+">0K+</h2>
                <p class="text-muted"><span class="lang-id">Pengguna Terpercaya</span><span class="lang-en">Users Trusted</span></p>
            </div>
            <div class="col-md-3 col-6">
                <h2 class="display-5 fw-bold text-primary mb-1 count-up" data-target="95" data-suffix="%">0%</h2>
                <p class="text-muted"><span class="lang-id">Tingkat Keberhasilan</span><span class="lang-en">Success Rate</span></p>
            </div>
            <div class="col-md-3 col-6">
                <h2 class="display-5 fw-bold text-primary mb-1">24/7</h2>
                <p class="text-muted"><span class="lang-id">Tersedia</span><span class="lang-en">Available</span></p>
            </div>
            <div class="col-md-3 col-6">
                <h2 class="display-5 fw-bold text-primary mb-1 count-up" data-target="4.8" data-decimals="1">0.0</h2>
                <p class="text-muted"><span class="lang-id">Rating Rata-rata</span><span class="lang-en">Average Rating</span> <i class="fas fa-star text-warning"></i></p>
            </div>
        </div>
    </div>
</section>

<section class="how-it-works py-5">
    <div class="container">
        <h2 class="text-center fw-bold display-6 mb-5">
            <span class="lang-id">Bagaimana <span class="text-primary">FLUENT</span> Bekerja</span>
            <span class="lang-en">How <span class="text-primary">FLUENT</span> Works</span>
        </h2>
        <div class="row gy-4">
            <div class="col-lg-4 d-flex">
                <div class="card h-100 shadow-sm border-0 text-center p-4 fluent-card hover-lift w-100">
                    <div class="mb-4 how-it-works-icon-container">
                        <i class="fas fa-video fa-3x text-primary"></i>
                    </div>
                    <h3 class="h5 fw-semibold mb-2"><span class="lang-id">Rekam Jawabanmu</span><span class="lang-en">Record Your Response</span></h3>
                    <p class="small text-muted">
                        <span class="lang-id d-block">Jawab pertanyaan wawancara pakai kamera dan mikrofonmu. Platform kami akan memandumu.</span>
                        <span class="lang-en d-block">Answer interview questions using your camera and microphone. Our platform guides you through.</span>
                    </p>
                </div>
            </div>
            <div class="col-lg-4 d-flex">
                <div class="card h-100 shadow-sm border-0 text-center p-4 fluent-card hover-lift w-100">
                    <div class="mb-4 how-it-works-icon-container">
                        <i class="fas fa-brain fa-3x text-primary"></i>
                    </div>
                    <h3 class="h5 fw-semibold mb-2"><span class="lang-id">Analisis Real-Time</span><span class="lang-en">Real-Time Analysis</span></h3>
                    <p class="small text-muted">
                        <span class="lang-id d-block">AI kami menganalisis bahasa tubuh, nuansa bicara, dan kondisi emosionalmu dengan cermat.</span>
                        <span class="lang-en d-block">Our AI meticulously analyzes your body language, speech nuances, and emotional state.</span>
                    </p>
                </div>
            </div>
            <div class="col-lg-4 d-flex">
                <div class="card h-100 shadow-sm border-0 text-center p-4 fluent-card hover-lift w-100">
                    <div class="mb-4 how-it-works-icon-container">
                        <i class="fas fa-clipboard-check fa-3x text-primary"></i>
                    </div>
                    <h3 class="h5 fw-semibold mb-2"><span class="lang-id">Dapatkan Feedback Detail</span><span class="lang-en">Get Detailed Feedback</span></h3>
                    <p class="small text-muted">
                        <span class="lang-id d-block">Terima wawasan komprehensif yang bisa langsung diterapkan untuk meningkatkan performa wawancaramu.</span>
                        <span class="lang-en d-block">Receive comprehensive, actionable insights to elevate your interview performance.</span>
                    </p>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="reviews-section py-5 bg-dark text-light">
    <div class="container">
        <div class="row mb-5 align-items-end">
            <div class="col-lg-7">
                <button class="btn btn-outline-light btn-sm mb-3 review-section-tag" disabled>
                    <span class="lang-id">Kata Mereka</span><span class="lang-en">What People Say?</span>
                </button>
                <h2 class="display-5 fw-bold mb-0">
                    <span class="lang-id">Simak Pendapat Pengguna Tentang Manfaat <span class="text-primary">FLUENT</span></span>
                    <span class="lang-en">Explore User Insights on <span class="text-primary">FLUENT</span>'s Benefits</span>
                </h2>
            </div>
            <div class="col-lg-5 text-lg-end mt-3 mt-lg-0">
                <p class="lead-sm text-light opacity-75">
                    <span class="lang-id d-block">Cari tahu apa kata pengguna kami tentang pengalaman mereka dengan FLUENT, dan lihat bagaimana FLUENT membantu persiapan wawancara mereka.</span>
                    <span class="lang-en d-block">Discover what our users say about their experience with FLUENT, and see how it has improved their interview preparation.</span>
                </p>
            </div>
        </div>

        <div class="swiper review-swiper">
            <div class="swiper-wrapper">
                <div class="swiper-slide">
                    <div class="review-card h-100">
                        <div class="review-card-header">
                            <img src="{{ url_for('static', filename='images/grk (4).png') }}" alt="User Avatar" class="avatar" />
                            <div class="user-info">
                                <h5 class="username mb-0">Ariana Putri</h5>
                                <div class="rating">
                                    <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i>
                                    <span class="rating-text ms-1">5/5</span>
                                </div>
                            </div>
                        </div>
                        <div class="review-card-body">
                            <p>
                                <span class="lang-id d-block">"FLUENT bener-bener ngebantu aku jadi lebih PD pas wawancara. Fitur analisis emosinya keren banget!"</span>
                                <span class="lang-en d-block">"FLUENT really helped me become more confident during interviews. The emotion analysis feature is amazing!"</span>
                            </p>
                        </div>
                    </div>
                </div>
                <div class="swiper-slide">
                    <div class="review-card h-100">
                        <div class="review-card-header">
                            <img src="{{ url_for('static', filename='images/grk (23).png') }}" alt="User Avatar" class="avatar" />
                            <div class="user-info">
                                <h5 class="username mb-0">Budi Santoso</h5>
                                <div class="rating">
                                    <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star-half-alt"></i>
                                    <span class="rating-text ms-1">4.5/5</span>
                                </div>
                            </div>
                        </div>
                        <div class="review-card-body">
                            <p>
                                <span class="lang-id d-block">"Analisis kecepatan bicara dan kata pengisi sangat berguna. Aku jadi sadar kekuranganku."</span>
                                <span class="lang-en d-block">"The speech pace and filler word analysis were very helpful. I became aware of my weaknesses."</span>
                            </p>
                        </div>
                    </div>
                </div>
                <div class="swiper-slide">
                    <div class="review-card h-100">
                        <div class="review-card-header">
                            <img src="{{ url_for('static', filename='images/grk (63).png') }}" alt="User Avatar" class="avatar" />
                            <div class="user-info">
                                <h5 class="username mb-0">Citra Lestari</h5>
                                <div class="rating">
                                    <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i>
                                    <span class="rating-text ms-1">5/5</span>
                                </div>
                            </div>
                        </div>
                        <div class="review-card-body">
                            <p>
                                <span class="lang-id d-block">"Awalnya ragu, tapi setelah coba, feedback bahasa tubuhnya detail banget. Recommended!"</span>
                                <span class="lang-en d-block">"I was hesitant at first, but after trying it, the body language feedback is very detailed. Recommended!"</span>
                            </p>
                        </div>
                    </div>
                </div>
                <div class="swiper-slide">
                    <div class="review-card h-100">
                        <div class="review-card-header">
                            <img src="{{ url_for('static', filename='images/grk (76).png') }}" alt="User Avatar" class="avatar" />
                            <div class="user-info">
                                <h5 class="username mb-0">Rahmat Hidayat</h5>
                                <div class="rating">
                                    <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="far fa-star"></i>
                                    <span class="rating-text ms-1">4/5</span>
                                </div>
                            </div>
                        </div>
                        <div class="review-card-body">
                            <p>
                                <span class="lang-id d-block">"Suka banget sama fitur simulasi wawancaranya, jadi bisa latihan kapan aja. Mantap!"</span>
                                <span class="lang-en d-block">"Love the interview simulation feature, I can practice anytime. Awesome!"</span>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
            </div>
    </div>
</section>
{% endblock %}

{% block scripts_extra %}
<script>
document.addEventListener('DOMContentLoaded', function () {
    // Inisialisasi Swiper untuk testimoni
    if (document.querySelector('.review-swiper')) {
        const reviewSwiper = new Swiper('.review-swiper', {
            loop: true,
            grabCursor: true,
            slidesPerView: 1, // Default untuk mobile
            spaceBetween: 20,
            autoplay: {
                delay: 3500, // Waktu tunda antar slide (misalnya 3.5 detik)
                disableOnInteraction: false, // Tetap autoplay setelah interaksi user
                pauseOnMouseEnter: true,    // Jeda saat mouse hover
            },
            // Tidak ada pagination atau navigation sesuai permintaan
            breakpoints: {
                576: { // Small devices (landscape phones, 576px and up)
                    slidesPerView: 1,
                    spaceBetween: 20
                },
                768: { // Medium devices (tablets, 768px and up)
                    slidesPerView: 2,
                    spaceBetween: 25
                },
                992: { // Large devices (desktops, 992px and up)
                    slidesPerView: 3,
                    spaceBetween: 30
                },
                1200: { // Extra large devices (large desktops, 1200px and up)
                    slidesPerView: 3, // Atau 4 jika desain kartu memungkinkan dan terlihat bagus
                    spaceBetween: 30
                }
            },
        });
    }

    // Fungsi animasi angka (CountUp)
    const animateCountUp = (el) => {
        const target = parseFloat(el.dataset.target);
        const decimals = parseInt(el.dataset.decimals) || 0;
        const suffix = el.dataset.suffix || '';
        const duration = 1800; // Durasi animasi sedikit lebih lama untuk kesan lebih smooth
        const framesPerSecond = 60;
        const totalFrames = Math.round((duration / 1000) * framesPerSecond);
        let currentFrame = 0;

        const count = () => {
            currentFrame++;
            const progress = currentFrame / totalFrames;
            const easeOutProgress = 1 - Math.pow(1 - progress, 4); // easeOutQuart (sedikit lebih halus dari Quint untuk angka)
            let currentValue = easeOutProgress * target;
            let displayValue;

            if (target === 10000 && suffix === "K+") {
                if (currentValue >= 10000) {
                    displayValue = Math.floor(target / 1000) + suffix; // Tampilkan 10K+
                } else if (currentValue >= 1000) { // Tambahkan format K saat animasi berjalan
                     displayValue = (currentValue / 1000).toFixed(1) + "K";
                }
                else {
                    displayValue = Math.round(currentValue).toLocaleString();
                }
            } else if (decimals > 0) {
                displayValue = currentValue.toFixed(decimals) + suffix;
            } else {
                displayValue = Math.round(currentValue).toLocaleString() + suffix;
            }
            el.innerText = displayValue;

            if (currentFrame < totalFrames) {
                requestAnimationFrame(count);
            } else {
                // Pastikan nilai akhir tepat
                if (target === 10000 && suffix === "K+") {
                    el.innerText = Math.floor(target / 1000) + suffix;
                } else {
                    el.innerText = target.toFixed(decimals) + suffix;
                }
            }
        };
        requestAnimationFrame(count);
    };

    const countUpObserver = new IntersectionObserver((entries, observer) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                animateCountUp(entry.target);
                observer.unobserve(entry.target);
            }
        });
    }, {
        threshold: 0.3 // Mulai animasi sedikit lebih awal (30% elemen terlihat)
    });

    document.querySelectorAll('.count-up').forEach(el => {
        const decimals = parseInt(el.dataset.decimals) || 0;
        const suffix = el.dataset.suffix || '';
        let initialText = "0";

        if (el.dataset.target === "10000" && suffix === "K+") {
            initialText = "0K+";
        } else if (decimals > 0) {
            initialText = (0).toFixed(decimals) + suffix;
        } else {
            initialText = "0" + suffix;
        }
        el.innerText = initialText;
        countUpObserver.observe(el);
    });
});
</script>
{% endblock %}